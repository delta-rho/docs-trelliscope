---
title: "trelliscope"
subtitle: "Package Reference"
author: Ryan Hafen
copyright: Tessera team
output:
  packagedocs:
    toc: true
rd_page: true
navpills: |
  <li><a href='index.html'>Docs</a></li>
  <li><a href='viewer.html'>Viewer Docs</a></li>
  <li class="active"><a href='rd.html'>Package Ref</a></li>
  <li><a href='https://github.com/tesseradata/trelliscope'>Github <i class='fa fa-github'></i></a></li>
brand: |-
  <a href="http://tessera.io">
  <img src='figures/icon.png' alt='tessera icon' width='30px' height='30px' style='margin-top: -3px;'>
  </a>
---
<h1>Create and Navigate Large Multi-Panel Visual Displays</h1>

<p><strong>Authors:</strong> <a href="mailto:rhafen@gmail.com">Ryan Hafen</a> [aut, cre],Jeremiah Rounds [ctb],Barret Schloerke [ctb],Landon Sego [ctb]</p>
<p><strong>Version:</strong> 0.9.4</p>
<p><strong>License:</strong> BSD_3_clause + file LICENSE</p>

<h4>Description</h4>
<p>An extension of Trellis Display that enables creation,
organization, and interactive viewing of multi-panel displays created
against potentially very large data sets.  The dynamic viewer tiles
panels of a display across the screen in a web browser and allows the
user to interactively page through the panels and sort and filter them
based on "cognostic" metrics computed for each panel.  Panels can be
created using many of R's plotting capabilities, including base R
graphics, 'lattice', 'ggplot2', and many 'htmlwidgets'.  Conditioning is
handled through the 'datadr' package, which enables 'Trelliscope' displays
with potentially millions of panels to be created against terabytes of
data on systems like 'Hadoop'.  While designed to scale, 'Trelliscope'
displays can also be very useful for small data sets.</p>

<h4>Depends</h4>
<p>
R (>= 3.0.0),
datadr (>= 0.8.5),</p>

<h4>Imports</h4>
<p>
lattice (>= 0.20-23),
ggplot2,
data.table,
base64enc,
shiny (>= 0.12.0),
htmlwidgets (>= 0.5.0),
digest,
jsonlite,
hexbin,
png,
rsconnect</p>

<h4>Suggests</h4>
<p>
Cairo,
dplyr,
testthat (>= 0.11.0),
roxygen2 (>= 5.0.1),
scagnostics,
housingData</p>

<h4>Enhances</h4>
<p>(none)</p>

# Making Displays



## makeDisplay

<h3>Create a Trelliscope Display</h3>

<p class="rd-p">Create a trelliscope display and add it to a visualization database (VDB)</p>

<h4>Usage</h4>
<pre class="r"><code>makeDisplay(data, name, group = "common", desc = "", mdDesc = NULL,
  height = 500, width = 500, panelFn = NULL, lims = list(x = "free", y =
  "free", prepanelFn = NULL), cogFn = NULL, state = NULL,
  preRender = FALSE, cogConn = dfCogConn(), output = NULL,
  conn = getOption("vdbConn"), verbose = TRUE, keySig = NULL,
  params = NULL, packages = NULL, control = NULL, detectGlobals = TRUE)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>data</dt>
  <dd class="rd-dd">data of class "ddo" or "ddf" (see <code><a href=http://www.inside-r.org/packages/cran/datadr/docs/ddo>ddo</a></code>, <code><a href=http://www.inside-r.org/packages/cran/datadr/docs/ddf>ddf</a></code>)</dd>
  <dt>name</dt>
  <dd class="rd-dd">the name of the display (no special characters, spaces are converted to underscores)</dd>
  <dt>group</dt>
  <dd class="rd-dd">the group the display belongs to, where displays are organized into groups (no special characters, spaces are
converted to underscores).  Defaults to "common"</dd>
  <dt>desc</dt>
  <dd class="rd-dd">a description of the display (used in the viewer)</dd>
  <dt>mdDesc</dt>
  <dd class="rd-dd">an optional longer-form description of the display and data, which can be text or can be a path to a markdown file or file with html snippets.  The description will appear in the "Display Information" panel in the Trelliscope viewer.</dd>
  <dt>height</dt>
  <dd class="rd-dd">reference dimensions (in pixels) for each panel (panels will be resized based on available space in the viewer)</dd>
  <dt>width</dt>
  <dd class="rd-dd">reference dimensions (in pixels) for each panel (panels will be resized based on available space in the viewer)</dd>
  <dt>panelFn</dt>
  <dd class="rd-dd">a function that produces a plot and takes one argument, which will be the current split of the data being passed to it.  It is recommended that you first test <code>panelFn</code> on a single key-value pair using <code>panelFn(data[[1]][[2]])</code>. This function must return either an object of class "ggplot", "trellis", or return "NULL" (for base plot commands)</dd>
  <dt>lims</dt>
  <dd class="rd-dd">either an object of class "trsLims" as obtained from <code><a href=#setlims>setLims</a></code> or a list with elements x, y, and prepanelFn, that specify how to apply <code><a href=#prepanel>prepanel</a></code> and <code><a href=#setlims>setLims</a></code></dd>
  <dt>cogFn</dt>
  <dd class="rd-dd">a function that returns a named list, where each element of the list is a cognostic feature (with length 1). This list must be coerceable to a 1-row data frame. The function should take one argument, which will be the current split of the data being passed to it.  Useful to test with <code>cogFn(divExample(dat))</code></dd>
  <dt>state</dt>
  <dd class="rd-dd">if specified, this tells the viewer the default parameter settings (such as layout, sorting, filtering, etc.) to use when the display is viewed (see <code><a href=#validatestate>validateState</a></code> for details)</dd>
  <dt>preRender</dt>
  <dd class="rd-dd">should the panels be pre-rendered and stored (<code>TRUE</code>), or rendered on-the-fly (<code>FALSE</code>, default)?  Default is recommended unless rendering is very expensive.  See Details.</dd>
  <dt>cogConn</dt>
  <dd class="rd-dd">a connection to store the cognostics data.  By default, this is <code><a href=#dfcogconn>dfCogConn</a>()</code>.</dd>
  <dt>output</dt>
  <dd class="rd-dd">how to store the panels and metadata for the display (unnecessary to specify in most cases -- see details)</dd>
  <dt>conn</dt>
  <dd class="rd-dd">VDB connection info, typically stored in options("vdbConn") at the beginning of a session, and not necessary to specify here if a valid "vdbConn" object exists</dd>
  <dt>verbose</dt>
  <dd class="rd-dd">print status messages?</dd>
  <dt>keySig</dt>
  <dd class="rd-dd">a user-defined key signature (string - see details)</dd>
  <dt>params</dt>
  <dd class="rd-dd">a named list of objects external to the input data that are needed in the distributed computing (most should be taken care of automatically such that this is rarely necessary to specify)</dd>
  <dt>packages</dt>
  <dd class="rd-dd">a vector of R package names that contain functions used in <code>panelFn</code> or <code>cogFn</code> (most should be taken care of automatically such that this is rarely necessary to specify)</dd>
  <dt>control</dt>
  <dd class="rd-dd">parameters specifying how the backend should handle things (most-likely parameters to <code>rhwatch</code> in RHIPE) - see <code><a href=http://www.inside-r.org/packages/cran/datadr/docs/rhipeControl>rhipeControl</a></code> and <code><a href=http://www.inside-r.org/packages/cran/datadr/docs/localDiskControl>localDiskControl</a></code></dd>
  <dt>detectGlobals</dt>
  <dd class="rd-dd">if TRUE params are automatically detected (packages are always auto-detected)</dd>
</dl>

  <h4>Details</h4>

  <p class="rd-p">Many of the parameters are optional or have defaults.  For several examples, see the documentation at tessera.io: <a href = http://tessera.io/docs-trelliscope>http://tessera.io/docs-trelliscope</a></p>

  <p class="rd-p">Panels by default are not pre-rendered. Instead, this function creates a display object and computes and stores the cognostics.  Panels are then rendered on the fly by the Tessera backend and pushed to the Trelliscope viewer as html with the panel images embedded in the html.  If a user would like to pre-render the images for every subset (using <code>preRender = TRUE</code>), then by default the image files for the panels will be stored to a local disk connection (see <code><a href=http://www.inside-r.org/packages/cran/datadr/docs/localDiskConn>localDiskConn</a></code>) inside the VDB directory, organized in subdirectories by group and name of the display.  Optionally, the user can specify the <code>output</code> parameter to be any valid "kvConnection" object, as long as it is one that persists on disk (e.g. <code><a href=http://www.inside-r.org/packages/cran/datadr/docs/hdfsConn>hdfsConn</a></code>).</p>

  <p class="rd-p"><code>keySig</code> does not generally need to be specified.  It is useful to specify when creating multiple displays that you would like to be treated as related displays, so that you can view them side by side.  Two displays are determined to be related when their key signatures, typically computed as a md5 hash of the complete collection of keys, match.  Sometimes two displays will have data where the keys match for a significant portion of subsets, but not all.  Manually specifying the same <code>keySig</code> for each can ensure that they will be treated as related displays.</p>



<h4>Examples</h4>
<pre class="r"><code># see docs</code></pre>

<h4>See also</h4>

<code><a href=#prepanel>prepanel</a></code>, <code><a href=#setlims>setLims</a></code>, <code><a href=http://www.inside-r.org/packages/cran/datadr/docs/divide>divide</a></code>


<h4>Author</h4>

Ryan Hafen




## qtrellis

<h3>Quick trelliscope display for data frame-like inputs</h3>


<h4>Usage</h4>
<pre class="r"><code>qtrellis(x, panel = NULL, cog = NULL, by = NULL, layout = c(1, 1),
  conn = getOption("vdbConn"), ...)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>x</dt>
  <dd class="rd-dd">either a data frame</dd>
  <dt>panel</dt>
  <dd class="rd-dd">a function taking one argument (which will be a subset of the input data frame) and returning a plot</dd>
  <dt>cog</dt>
  <dd class="rd-dd">an optional cognostics funtion to be applied to each subset</dd>
  <dt>by</dt>
  <dd class="rd-dd">if the input is a data frame, a character vector of column names to split the data by</dd>
  <dt>layout</dt>
  <dd class="rd-dd">a vector indicating the number of rows and columns to arrange the panels in by default</dd>
  <dt>conn</dt>
  <dd class="rd-dd">VDB connection info, typically stored in options("vdbConn") at the beginning of a session, and not necessary to specify here if a valid "vdbConn" object exists or if you would like to use a temporary one for this display</dd>
  <dt>...</dt>
  <dd class="rd-dd">parameters passed to <code><a href=#makedisplay>makeDisplay</a></code> - most importantly <code>name</code>, <code>group</code> (see note below), <code>width</code>, and <code>height</code></dd>
</dl>

  <h4>Note</h4>

  <p class="rd-p">If you dont have a vdb connection set up (see <code><a href=#vdbconn>vdbConn</a></code>), a temporary one will be created and used, and you can think of the plot as disposable.  If you would like the plot to persist, set up a vdb connection.  Likewise, if you dont supply <code>name</code> and <code>group</code>, the plot will be stored under defaults "qtrellis_plot" and "__qtrellis", and a subsequent call will cause the previous display with this name and group to be replaced.  Therefore, if you want your display to persist, make sure a vdb connection has been set up prior to calling this function, and give it a unique name.</p>



<h4>Examples</h4>
<pre class="r"><code>panel <- function(x)
  xyplot(Sepal.Width ~ Sepal.Length, data = x)

p <- datadr::divide(iris, by = "Species") %>%
  qtrellis(panel, layout = c(1, 3))
p

# data frame input (need to specify 'by')
iris %>% qtrellis(panel, by = "Species")

# dplyr grouped tbl input
library(dplyr)
p <- iris %>%
  group_by(Species) %>%
  qtrellis(panel, layout = c(1, 3))
p</code></pre>



## splod

<h3>Create a Scatterplot Display</h3>

<p class="rd-p">Create a scatterplot display (splod)</p>

<h4>Usage</h4>
<pre class="r"><code>splod(data, id.vars = NULL, name = NULL, desc = NULL,
  cogFn = splodCogFn, panelFn = splodPanelFn, verbose = TRUE, ...)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>data</dt>
  <dd class="rd-dd">a data.frame or an object of class "splodDat"</dd>
  <dt>id.vars</dt>
  <dd class="rd-dd">variables to ignore when computing all pairs of variables</dd>
  <dt>name, desc, cogFn, panelFn, verbose, ...</dt>
  <dd class="rd-dd">parameters passed to <code><a href=#makedisplay>makeDisplay</a></code></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
an object of class localDiv that can be passed to <code><a href=#splod>splod</a></code>
</dl></p>


  <h4>References</h4>

  <p class="rd-p">Wilkinsons scagnostics paper.</p>




<h4>See also</h4>

<code><a href=#makedisplay>makeDisplay</a></code>, <code><a href=#makesploddata>makeSplodData</a></code>, <code><a href=#splodpanelfn>splodPanelFn</a></code>


<h4>Author</h4>

Ryan Hafen


# Handling Displays



## vdbConn

<h3>Connect to a VDB</h3>

<p class="rd-p">Connect to a new or existing visualization database</p>

<h4>Usage</h4>
<pre class="r"><code>vdbConn(path, name = NULL, autoYes = FALSE, updateFiles = TRUE,
  verbose = TRUE)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>path</dt>
  <dd class="rd-dd">The path on the local file system where the directory for the VDB is located</dd>
  <dt>name</dt>
  <dd class="rd-dd">A character string giving the name of the VDB. If the VDB already exists and <code>name = NULL</code>,
the previous name is used.  If the VDB exists and a string is provided for <code>name</code>, the name is overwritten.
The primary purpose of the <code>name</code> argument is to facilitate deploying the trelliscope display as a Shiny app.
See the <code>appName</code> argument of <code><a href=http://www.inside-r.org/packages/cran/trelliscope/docs/deployToShinyApps>deployToShinyApps</a></code></dd>
  <dt>autoYes</dt>
  <dd class="rd-dd">should questions to proceed with directory creation operations be automatically answered with "yes"?</dd>
  <dt>updateFiles</dt>
  <dd class="rd-dd">upon connection, should the Trelliscope viewer app files be updated in the VDB directory?</dd>
  <dt>verbose</dt>
  <dd class="rd-dd">should messages be printed about what is being done?</dd>
</dl>

  <h4>Details</h4>

  <p class="rd-p">Connecting to a VDB is required prior to calling <code><a href=#makedisplay>makeDisplay</a></code> or <code><a href=#view>view</a></code>.</p>


  <h4>Value</h4>

  <p class="rd-p"><dl>
An object of class <code>vdbConn</code> that contains the path and name of the VDB. This object is also assigned
to the <code>vdbConn</code> option, and can be retrieved via <code>getOption("vdbConn")</code>
</dl></p>




<h4>Author</h4>

Ryan Hafen




## view

<h3>View a Display or Run Shiny Display Viewer</h3>

<p class="rd-p">View a display or run Shiny display viewer</p>

<h4>Usage</h4>
<pre class="r"><code>view(name = NULL, group = NULL, state = NULL, openBrowser = TRUE,
  conn = getOption("vdbConn"), port = getOption("trelliscopePort"))</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>name, group</dt>
  <dd class="rd-dd">optional parameters to load the viewer with a pre-specified display - if not specified, the viewer will launch with a list to choose from</dd>
  <dt>state</dt>
  <dd class="rd-dd">an optional list of state variables to set the default viewing state for layout, sorting, filtering, and labels (see details)</dd>
  <dt>openBrowser</dt>
  <dd class="rd-dd">should the browser be automatically launched?</dd>
  <dt>conn</dt>
  <dd class="rd-dd">VDB connection info, typically stored in options("vdbConn") at the beginning of a session, and not necessary to specify here if a valid "vdbConn" object exists</dd>
  <dt>port</dt>
  <dd class="rd-dd">what port to use for the viewer - if not specified, will look for "trelliscopePort" set in Rs global options, followed by a search for a system-level environment variable "TRELLISCOPE_PORT".  If none of these are defined, a random port assigned provided by shiny will be used.</dd>
</dl>



<h4>Author</h4>

Ryan Hafen




## listDisplays

<h3>List Displays in a VDB</h3>

<p class="rd-p">List displays in a VDB.</p>

<h4>Usage</h4>
<pre class="r"><code>listDisplays(conn = getOption("vdbConn"))</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>conn</dt>
  <dd class="rd-dd">VDB connection info, typically stored in options("vdbConn") at the beginning of a session, and not necessary to specify here if a valid "vdbConn" object exists</dd>
</dl>



<h4>See also</h4>

<code><a href=#makedisplay>makeDisplay</a></code>, <code><a href=#removedisplay>removeDisplay</a></code>, <code><a href=#view>view</a></code>


<h4>Author</h4>

Ryan Hafen




## getDisplay

<h3>Retrieve Display Object from VDB</h3>

<p class="rd-p">Retrieve a display object from a VDB.</p>

<h4>Usage</h4>
<pre class="r"><code>getDisplay(name, group = NULL, conn = getOption("vdbConn"))</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>name</dt>
  <dd class="rd-dd">the name of the display</dd>
  <dt>group</dt>
  <dd class="rd-dd">the group of the display</dd>
  <dt>conn</dt>
  <dd class="rd-dd">VDB connection info, typically stored in options("vdbConn") at the beginning of a session, and not necessary to specify here if a valid "vdbConn" object exists</dd>
</dl>

  <h4>Details</h4>

  <p class="rd-p">If a display is uniquely determined by its name, then group is not required.</p>


  <h4>Value</h4>

  <p class="rd-p"><dl>
a display object
</dl></p>




<h4>See also</h4>

<code><a href=#makedisplay>makeDisplay</a></code>, <code><a href=#removedisplay>removeDisplay</a></code>


<h4>Author</h4>

Ryan Hafen




## updateDisplay

<h3>Update a Display Object</h3>


<h4>Usage</h4>
<pre class="r"><code>updateDisplay(name, ..., group = NULL, conn = getOption("vdbConn"))</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>name</dt>
  <dd class="rd-dd">the name of the display</dd>
  <dt>group</dt>
  <dd class="rd-dd">the group the display belongs to</dd>
  <dt>conn</dt>
  <dd class="rd-dd">VDB connection info, typically stored in options("vdbConn") at the beginning of a session, and not necessary to specify here if a valid "vdbConn" object exists</dd>
  <dt>...</dt>
  <dd class="rd-dd">display parameters to update which must be one of "desc", "width", "height", "keySig", "panelFn", "state" - see <code><a href=#makedisplay>makeDisplay</a></code> for details on these parameters.</dd>
</dl>





## removeDisplay

<h3>Remove a Display from a VDB</h3>

<p class="rd-p">Remove a display from a VDB.</p>

<h4>Usage</h4>
<pre class="r"><code>removeDisplay(name = NULL, group = NULL, conn = getOption("vdbConn"),
  autoYes = FALSE, verbose = TRUE)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>name</dt>
  <dd class="rd-dd">the name of the display</dd>
  <dt>group</dt>
  <dd class="rd-dd">the group of the display</dd>
  <dt>conn</dt>
  <dd class="rd-dd">VDB connection info, typically stored in options("vdbConn") at the beginning of a session, and not necessary to specify here if a valid "vdbConn" object exists</dd>
  <dt>autoYes</dt>
  <dd class="rd-dd">should questions to proceed with display removal be automatically answered with "yes"?</dd>
  <dt>verbose</dt>
  <dd class="rd-dd">logical - print messages about what is being done</dd>
</dl>

  <h4>Details</h4>

  <p class="rd-p">If a display is uniquely determined by its name, then group is not required.</p>




<h4>See also</h4>

<code><a href=#makedisplay>makeDisplay</a></code>


<h4>Author</h4>

Ryan Hafen


# Cognostics



## cog

<h3>Create a Cognostics Object</h3>

<p class="rd-p">Create a cognostics object.  To be used inside of the function passed to the <code>cogFn</code> argument of <code><a href='makeDisplay.html'>makeDisplay</a></code> for each cognostics value to be computed for each subset.</p>

<h4>Usage</h4>
<pre class="r"><code>cog(val = NULL, desc = "", group = "common", type = NULL,
  defLabel = FALSE, defActive = TRUE, filterable = TRUE,
  sortable = TRUE, log = NULL)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>val</dt>
  <dd class="rd-dd">a scalar value (numeric, characer, date, etc.)</dd>
  <dt>desc</dt>
  <dd class="rd-dd">a description for this cognostic value</dd>
  <dt>group</dt>
  <dd class="rd-dd">optional categorization of the cognostic for organizational purposes</dd>
  <dt>type</dt>
  <dd class="rd-dd">the desired type of cognostic you would like to compute (see details)</dd>
  <dt>defLabel</dt>
  <dd class="rd-dd">should this cognostic be used as a panel label in the viewer by default?</dd>
  <dt>defActive</dt>
  <dd class="rd-dd">should this cognostic be active (available for sort / filter / sample) by default?</dd>
  <dt>filterable</dt>
  <dd class="rd-dd">should this cognostic be filterable?  Default is <code>TRUE</code>.  It can be useful to set this to <code>FALSE</code> if the cognostic is categorical with many unique values and is only desired to be used as a panel label.</dd>
  <dt>sortable</dt>
  <dd class="rd-dd">should this cognostic be sortable?</dd>
  <dt>log</dt>
  <dd class="rd-dd">when being used in the viewer for visual univariate and bivariate filters, should the log be computed?  Useful when the distribution of the cognostic is very long-tailed or has large outliers.  Can either be a logical or a positive integer indicating the base.</dd>
</dl>

  <h4>Details</h4>

  <p class="rd-p">Different types of cognostics can be specified through the <code>type</code> argument that will affect how the user is able to interact with those cognostics in the viewer.  This can usually be ignored because it will be inferred from the implicit data type of <code>val</code>.  But there are special types of cognostics, such as geographic coordinates and relations (not implemented) that can be specified as well.  Current possibilities for <code>type</code> are "key", "integer", "numeric", "factor", "date", "time", "geo", "rel", "hier", "href".</p>


  <h4>Value</h4>

  <p class="rd-p"><dl>
object of class "cog"
</dl></p>




<h4>See also</h4>

<code><a href=#makedisplay>makeDisplay</a></code>, <code><a href=#cogrange>cogRange</a></code>, <code><a href=#cogmean>cogMean</a></code>, <code><a href=#cogscagnostics>cogScagnostics</a></code>, <code><a href=#cogloessrmse>cogLoessRMSE</a></code>


<h4>Author</h4>

Ryan Hafen




## cogMean

<h3>Compute Mean Cognostic</h3>

<p class="rd-p">Compute mean to be used as cognostics in a trelliscope display.</p>

<h4>Usage</h4>
<pre class="r"><code>cogMean(x, desc = "mean", group = "common", defLabel = FALSE,
  defActive = TRUE, filterable = TRUE, sortable = TRUE, log = FALSE)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>x</dt>
  <dd class="rd-dd">numeric vector from which to compute the mean</dd>
  <dt>desc, group, defLabel, defActive, filterable, sortable, log</dt>
  <dd class="rd-dd">arguments passed to <code><a href=#cog>cog</a></code></dd>
</dl>


<h4>Examples</h4>
<pre class="r"><code>cogMean(rnorm(100))</code></pre>

<h4>See also</h4>

<code><a href=#cog>cog</a></code>


<h4>Author</h4>

Ryan Hafen




## cogRange

<h3>Compute Range Cognostic</h3>

<p class="rd-p">Compute range to be used as cognostics in a trelliscope display.</p>

<h4>Usage</h4>
<pre class="r"><code>cogRange(x, desc = "range (max - min)", group = "common",
  defLabel = FALSE, defActive = TRUE, filterable = TRUE,
  sortable = TRUE, log = FALSE)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>x</dt>
  <dd class="rd-dd">numeric vector from which to compute the range</dd>
  <dt>desc, group, defLabel, defActive, filterable, sortable, log</dt>
  <dd class="rd-dd">arguments passed to <code><a href=#cog>cog</a></code></dd>
</dl>


<h4>Examples</h4>
<pre class="r"><code>cogRange(rnorm(100))</code></pre>

<h4>See also</h4>

<code><a href=#cog>cog</a></code>


<h4>Author</h4>

Ryan Hafen




## cogLoessRMSE

<h3>Compute RMSE of Loess Fit Cognostic</h3>

<p class="rd-p">Compute RMSE of loess fit as a cognostic to be used as cognostics in a trelliscope display.</p>

<h4>Usage</h4>
<pre class="r"><code>cogLoessRMSE(..., desc = "RMSE of residuals from loess fit",
  group = "common", defLabel = FALSE, defActive = TRUE,
  filterable = TRUE, sortable = TRUE, log = FALSE)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>desc, group, defLabel, defActive, filterable, sortable, log</dt>
  <dd class="rd-dd">arguments passed to <code><a href=#cog>cog</a></code></dd>
  <dt>...</dt>
  <dd class="rd-dd">arguments to be passed to <code>link{loess}</code>, such as the formula, data, smoothing parameters, etc.</dd>
</dl>


<h4>Examples</h4>
<pre class="r"><code>cogLoessRMSE(dist ~ speed, span = 0.5, data = cars)</code></pre>

<h4>See also</h4>

<code><a href=#cog>cog</a></code>


<h4>Author</h4>

Ryan Hafen




## cogHref

<h3>Href Cognostic</h3>

<p class="rd-p">Create href to be used as cognostics in a trelliscope display.</p>

<h4>Usage</h4>
<pre class="r"><code>cogHref(x, label = "link", desc = "link", group = "common",
  target = "_blank", defLabel = FALSE, defActive = FALSE,
  filterable = FALSE, sortable = TRUE, log = FALSE)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>x</dt>
  <dd class="rd-dd">URL to link to</dd>
  <dt>label</dt>
  <dd class="rd-dd">label of the href</dd>
  <dt>desc, group, defLabel, defActive, filterable, sortable, log</dt>
  <dd class="rd-dd">arguments passed to <code><a href=#cog>cog</a></code></dd>
  <dt>target</dt>
  <dd class="rd-dd">value to be used for the <code>target</code> attribute of the <code>a</code> html tag - default is "_blank" which will open the link in a new window</dd>
</dl>


<h4>Examples</h4>
<pre class="r"><code>cogHref("www.google.com")</code></pre>

<h4>See also</h4>

<code><a href=#cog>cog</a></code>


<h4>Author</h4>

Ryan Hafen




## cogDisplayHref

<h3>DisplayHref Cognostic</h3>

<p class="rd-p">Create href that points to another trelliscope display with optional state</p>

<h4>Usage</h4>
<pre class="r"><code>cogDisplayHref(displayName, displayGroup = "common", state = NULL,
  label = "link", desc = "display link", group = "common",
  target = "_blank", defLabel = FALSE, defActive = FALSE,
  filterable = FALSE, sortable = TRUE, log = FALSE)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>displayName</dt>
  <dd class="rd-dd">the name of the display</dd>
  <dt>displayGroup</dt>
  <dd class="rd-dd">the group the display belongs to</dd>
  <dt>state</dt>
  <dd class="rd-dd">if specified, this tells the viewer the default parameter settings (such as layout, sorting, filtering, etc.) to use when the display is viewed (see <code><a href=#validatestate>validateState</a></code> for details)</dd>
  <dt>label</dt>
  <dd class="rd-dd">label of the href</dd>
  <dt>desc, group, defLabel, defActive, filterable, sortable, log</dt>
  <dd class="rd-dd">arguments passed to <code><a href=#cog>cog</a></code></dd>
  <dt>target</dt>
  <dd class="rd-dd">value to be used for the <code>target</code> attribute of the <code>a</code> html tag - default is "_blank" which will open the link in a new window</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
a hash string
</dl></p>




<h4>See also</h4>

<code><a href=#validatestate>validateState</a></code>, <code><a href=#coghref>cogHref</a></code>


<h4>Author</h4>

Ryan Hafen




## cogScagnostics

<h3>Compute Scagnostics</h3>

<p class="rd-p">Compute list of scagnostics (see <code><a href='http://www.inside-r.org/packages/cran/scagnostics/docs/scagnostics'>scagnostics</a></code>) to be used as cognostics in a trelliscope display.</p>

<h4>Usage</h4>
<pre class="r"><code>cogScagnostics(x, y, group = "scagnostics", defLabel = FALSE,
  defActive = TRUE, filterable = TRUE, sortable = TRUE, log = FALSE)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>x</dt>
  <dd class="rd-dd">vector of the x-axis data for a scatterplot</dd>
  <dt>y</dt>
  <dd class="rd-dd">vector of the y-axis data for a scatterplot</dd>
  <dt>group, defLabel, defActive, filterable, sortable, log</dt>
  <dd class="rd-dd">arguments passed to <code><a href=#cog>cog</a></code></dd>
</dl>


<h4>Examples</h4>
<pre class="r"><code>cogScagnostics(iris$Sepal.Length, iris$Sepal.Width)</code></pre>

<h4>See also</h4>

<code><a href=#cog>cog</a></code>


<h4>Author</h4>

Ryan Hafen


# Sharing Displays



## deployToShinyApps

<h3>Deploy VDB to shinyapps.io</h3>


<h4>Usage</h4>
<pre class="r"><code>deployToShinyApps(vdbConn = getOption("vdbConn"), appName = NULL,
  account = NULL, redeploy = TRUE, size = NULL, instances = NULL,
  quiet = FALSE)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>vdbConn</dt>
  <dd class="rd-dd">A vdbConn object containing the VDB connection settings</dd>
  <dt>appName</dt>
  <dd class="rd-dd">name of application (app will be available at https://[account].shinyapps.io/[appName]/) - if not supplied, will use the name of VDB connection</dd>
  <dt>account</dt>
  <dd class="rd-dd">passed to <code>shinyapps::configureApp</code></dd>
  <dt>redeploy</dt>
  <dd class="rd-dd">passed to <code>shinyapps::configureApp</code></dd>
  <dt>size</dt>
  <dd class="rd-dd">passed to <code>shinyapps::configureApp</code></dd>
  <dt>instances</dt>
  <dd class="rd-dd">passed to <code>shinyapps::configureApp</code></dd>
  <dt>quiet</dt>
  <dd class="rd-dd">passed to <code>shinyapps::configureApp</code></dd>
</dl>

  <h4>Details</h4>

  <p class="rd-p">If you do not have a shinyapps.io account and have not set your account info, first visit here prior to calling this function: <a href = #http://shiny.rstudio.com/articles/shinyapps>http://shiny.rstudio.com/articles/shinyapps.html</a>.</p>




<h4>Author</h4>

Ryan Hafen

<code><a href='syncLocalData.html'>syncLocalData</a></code>




## syncLocalData

<h3>Sync localDisk Objects to VDB</h3>

<p class="rd-p">Sync localDisk data that is used for VDB displays located throughout the system to a 'data' directory inside the VDB - useful for collecting data before syncing with a web server, and used inside of <code><a href='webSync.html'>webSync</a></code>.</p>

<h4>Usage</h4>
<pre class="r"><code>syncLocalData(vdbConn = getOption("vdbConn"), rsync = NULL)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>vdbConn</dt>
  <dd class="rd-dd">VDB connection settings</dd>
  <dt>rsync</dt>
  <dd class="rd-dd">location of rsync binary</dd>
</dl>



<h4>See also</h4>

<code><a href=#websync>webSync</a></code>, <code><a href=#webconn>webConn</a></code>


<h4>Author</h4>

Ryan Hafen




## webConn

<h3>Initialize a Web Connection</h3>

<p class="rd-p">Initialize a connection to a web server</p>

<h4>Usage</h4>
<pre class="r"><code>webConn(user = NULL, ip = NULL, appDir = "/srv/shiny-server",
  name = NULL)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>user</dt>
  <dd class="rd-dd">the username to log on to the web server</dd>
  <dt>ip</dt>
  <dd class="rd-dd">the IP address of the web server - if <code>NULL</code>, it is assumed that your web server is on the same machine that you are working on</dd>
  <dt>appDir</dt>
  <dd class="rd-dd">the directory where Shiny apps go on the web server - defaults to the default location of /srv/shiny-server</dd>
  <dt>name</dt>
  <dd class="rd-dd">the name of the directory in <code>appDir</code> under which to store the application - if not supplied, it defaults to the name provided in the vdb connection</dd>
</dl>



<h4>See also</h4>

<code><a href=#websync>webSync</a></code>


<h4>Author</h4>

Ryan Hafen




## webSync

<h3>Sync VDB Files to a Web Server</h3>

<p class="rd-p">Sync VDB files to a web server</p>

<h4>Usage</h4>
<pre class="r"><code>webSync(vdbConn = getOption("vdbConn"), webConn = getOption("vdbWebConn"),
  fixPermissions = FALSE, verbose = FALSE, rsync = NULL)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>vdbConn</dt>
  <dd class="rd-dd">VDB connection settings</dd>
  <dt>webConn</dt>
  <dd class="rd-dd">web connection settings</dd>
  <dt>fixPermissions</dt>
  <dd class="rd-dd">should an attempt be made to fix permissions in the web directory?</dd>
  <dt>verbose</dt>
  <dd class="rd-dd">show rsync output</dd>
  <dt>rsync</dt>
  <dd class="rd-dd">location of rsync binary</dd>
</dl>

  <h4>Details</h4>

  <p class="rd-p">This requires rsync to be installed on your machine.  If you are syncing via ssh, this only works if public key authentication is enabled between your local machine and the remote server.</p>




<h4>See also</h4>

<code><a href=#webconn>webConn</a></code>, <code><a href=#synclocaldata>syncLocalData</a></code>


<h4>Author</h4>

Ryan Hafen


# Misc



## splodCogFn

<h3>Default Cognostics Function for splod</h3>

<p class="rd-p">Default cognostics function for splod</p>

<h4>Usage</h4>
<pre class="r"><code>splodCogFn(df)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>df</dt>
  <dd class="rd-dd">a subset of data created by <code><a href=#makesploddata>makeSplodData</a></code></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
a data.frame of scagnostics for the given subset
</dl></p>


  <h4>References</h4>

  <p class="rd-p">Wilkinsons scagnostics paper.</p>




<h4>See also</h4>

<code><a href=#splodpanelfn>splodPanelFn</a></code>, <code><a href=#splod>splod</a></code>, <code><a href=#makesploddata>makeSplodData</a></code>


<h4>Author</h4>

Ryan Hafen




## splodPanelFn

<h3>Default Plot Function for splod</h3>

<p class="rd-p">Default plot function for splod</p>

<h4>Usage</h4>
<pre class="r"><code>splodPanelFn(df)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>df</dt>
  <dd class="rd-dd">a subset of data created by <code><a href=#makesploddata>makeSplodData</a></code></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
a trellis plot object of a scatterplot for the given subset
</dl></p>


  <h4>References</h4>

  <p class="rd-p">Wilkinsons scagnostics paper.</p>




<h4>See also</h4>

<code><a href=#splodcogfn>splodCogFn</a></code>, <code><a href=#splod>splod</a></code>, <code><a href=#makesploddata>makeSplodData</a></code>


<h4>Author</h4>

Ryan Hafen




## batting

<h3>Batting Data</h3>

<p class="rd-p">Batting data</p>

<h4>Usage</h4>
<pre class="r"><code>data(batting)</code></pre>

  <h4>Format</h4>

  <p class="rd-p">A data frame with 1406 rows and 22 variables</p>


  <h4>Details</h4>

  <p class="rd-p"><ul>
<li> playerID. : Factor w/ 17908 levels "aardsda01","aaronha01",..: 1 6 34 34 37 40 40 41 46 51 ...
  </li>
<li> yearID.   : int  2012 2012 2012 2012 2012 2012 2012 2012 2012 2012 ...
  </li>
<li> stint.    : int  1 1 1 2 1 1 2 1 1 1 ...
  </li>
<li> teamID.   : Factor w/ 149 levels "ALT","ANA","ARI",..: 93 58 71 72 66 45 96 16 116 94 ...
  </li>
<li> lgID.     : Factor w/ 6 levels "AA","AL","FL",..: 2 4 2 4 2 2 2 2 2 4 ...
  </li>
<li> G.        : int  1 37 8 92 22 26 1 69 153 45 ...
  </li>
<li> AB.       : int  NA 7 24 195 70 0 NA 0 607 0 ...
  </li>
<li> R.        : int  NA 0 1 28 5 0 NA 0 84 0 ...
  </li>
<li> H.        : int  NA 1 5 48 18 0 NA 0 137 0 ...
  </li>
<li> X2B.      : int  NA 0 3 8 2 0 NA 0 22 0 ...
  </li>
<li> X3B.      : int  NA 0 0 1 1 0 NA 0 2 0 ...
  </li>
<li> HR.       : int  NA 0 0 3 1 0 NA 0 12 0 ...
  </li>
<li> RBI.      : int  NA 0 5 19 15 0 NA 0 50 0 ...
  </li>
<li> SB.       : int  NA 0 0 6 0 0 NA 0 13 0 ...
  </li>
<li> CS.       : int  NA 0 0 2 0 0 NA 0 3 0 ...
  </li>
<li> BB.       : int  NA 0 2 35 2 0 NA 0 59 0 ...
  </li>
<li> SO.       : int  NA 3 5 51 13 0 NA 0 124 0 ...
  </li>
<li> IBB.      : int  NA 0 0 3 0 0 NA 0 7 0 ...
  </li>
<li> HBP.      : int  NA 0 0 0 1 0 NA 0 0 0 ...
  </li>
<li> SH.       : int  NA 0 0 0 0 0 NA 0 1 0 ...
  </li>
<li> SF.       : int  NA 0 1 0 1 0 NA 0 1 0 ...
  </li>
<li> GIDP.     : int  NA 1 1 6 1 0 NA 0 3 0 ...
  </li>
<li> price. price in US dollars (\$326--\$18,823)
</li>
</ul></p>

  <p class="rd-p"></p>






## noMargins

<h3>Remove Margins from Trellis/Lattice Plot</h3>

<p class="rd-p">Removes whitespace surrounding a trellis plot.  Ideal for <code><a href='makeDisplay.html'>makeDisplay</a></code> because when tiling multiple panels, a lot of space is wasted with the margins.</p>

<h4>Usage</h4>
<pre class="r"><code>noMargins(..., topkey = FALSE, rightkey = FALSE)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>topkey</dt>
  <dd class="rd-dd">should extra space be added for a top key?</dd>
  <dt>rightkey</dt>
  <dd class="rd-dd">should extra space be added for a right key?</dd>
  <dt>...</dt>
  <dd class="rd-dd">a list of other parameters to be passed to par.settings</dd>
</dl>


<h4>Examples</h4>
<pre class="r"><code>xyplot(c(1:10) ~ c(1:10) | sample(letters[1:2], 10, replace=TRUE),
  par.settings=noMargins()
)

# with additional par.settings...
xyplot(c(1:10) ~ c(1:10) | sample(letters[1:2], 10, replace=TRUE),
  par.settings=noMargins(
    list(plot.symbol=list(col="black"))
  )
)</code></pre>

<h4>See also</h4>

<code><a href=http://www.inside-r.org/r-doc/lattice/xyplot>xyplot</a></code>, <code><a href=#makedisplay>makeDisplay</a></code>


<h4>Author</h4>

Ryan Hafen




## validateState

<h3>Validate State Parameters</h3>

<p class="rd-p">Validate state parameters for a Trelliscope display</p>

<h4>Usage</h4>
<pre class="r"><code>validateState(x, name = NULL, group = NULL, displayObj = NULL)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>x</dt>
  <dd class="rd-dd">a list of state parameter settings (such as layout, sorting, filtering, etc.) to use when the display is viewed (see details)</dd>
  <dt>name</dt>
  <dd class="rd-dd">the name of the display (optional but recommended - if checking state against variable names, etc. of the display is desired)</dd>
  <dt>group</dt>
  <dd class="rd-dd">the group the display belongs to</dd>
  <dt>displayObj</dt>
  <dd class="rd-dd">the display object (can be specified in place of <code>name</code> and <code>group</code>)</dd>
</dl>

  <h4>Details</h4>

  <p class="rd-p">Trelliscope allows you to specify either a default state in <code><a href=#makedisplay>makeDisplay</a></code> or specify the state of the display when you call <code><a href=#view>view</a></code>.  Aspects of the display that can be controlled with the state include:
<ul>
<li> labels a vector of names of cognostics to be shown as labels underneath each panel.  If not specified, the default is to show labels for any of the splitting variables that created the partition of the data being plotted.
 </li>
<li> layout a list with optional elements <code>nrow</code>, <code>ncol</code>, and <code>arrange</code>.  <code>nrow</code> and <code>ncol</code> specify the arrangement of the panels into rows and columns (<code>nrow = 1</code> and <code>ncol = 1</code> are defaults), and <code>arrange</code> can be either "row" or "col" and specified whether to sort the panels by row or by column ("row" is default)
 </li>
<li> sort a named list where each name corresponds to a cognostic name and the value is either "asc" or "desc" for sorting in ascending or descending order.  The order in which sorting is applied to each variable is according to the order of the variables specified.
 </li>
<li> filter a named list where each name corresponds to a cognostic name and the value is a specification of either "regex" or "select" for categorical variables, or a range, "from" and "to", for quantitative variables.  For a "regex", a simple regular expression string is specified, and the filter finds all matches for the regular expression against the variable.  For "select" a vector of strings is specified, and all exact matches are returned.  For the range filter, all values of the specified variable within the range "from" and "to" are returned.  If either "from" or "to" are omitted, they are treated as <code>-Inf</code> and <code>Inf</code> respectively.
</li>
</ul></p>

  <p class="rd-p"></p>


  <h4>Value</h4>

  <p class="rd-p"><dl>
a modified state parameter list that is valid, an object of class "cogState"
</dl></p>



<h4>Examples</h4>
<pre class="r"><code>state <- list(
  sort = list(state = "desc", county = "asc"),
  filter = list(
    county = list(regex = "Ben"),
    state = list(select = c("OR", "WA")),
    meanList = list(from = 50, to = 150)
  ),
  layout = list(nrow = 2, ncol = 4),
  labels = c("county", "state")
)
validateState(state)</code></pre>

<h4>See also</h4>

<code><a href=#view>view</a></code>, <code><a href=#cogdisplayhref>cogDisplayHref</a></code>


<h4>Author</h4>

Ryan Hafen




## makeStateHash

<h3>Make a URL hash out of state information</h3>

<p class="rd-p">Make a URL hash out of cognostics state information</p>

<h4>Usage</h4>
<pre class="r"><code>makeStateHash(x, name = NULL, group = NULL)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>x</dt>
  <dd class="rd-dd">a list of cognostics state parameters</dd>
  <dt>name</dt>
  <dd class="rd-dd">the name of the display</dd>
  <dt>group</dt>
  <dd class="rd-dd">the group the display belongs to</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
a URL hash
</dl></p>



<h4>Examples</h4>
<pre class="r"><code>x <- list(
  sort = list(state = "desc", county = "asc"),
  filter = list(
    county = list(regex = "Bent"),
    state = list(select = "WA"),
    meanList = list(from = 0, to = 1)
  ),
  layout = list(nrow = 2, ncol = 4),
  labels = c("county", "state")
)
makeStateHash(validateState(x))</code></pre>

<h4>See also</h4>

<code><a href=#validatestate>validateState</a></code>


<h4>Author</h4>

Ryan Hafen




## makeSplodData

<h3>Create Data Plottable by splod</h3>

<p class="rd-p">Create pairwise scatterplot data plottable by splod</p>

<h4>Usage</h4>
<pre class="r"><code>makeSplodData(data, id.vars = NULL, ...)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>data</dt>
  <dd class="rd-dd">a data.frame</dd>
  <dt>id.vars</dt>
  <dd class="rd-dd">variables to ignore when computing all pairs of variables</dd>
  <dt>...</dt>
  <dd class="rd-dd">TODO</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
an object of class localDiv and splodDat that can be passed to <code><a href=#splod>splod</a></code>
</dl></p>


  <h4>References</h4>

  <p class="rd-p">Wilkinsons scagnostics paper.</p>




<h4>See also</h4>

<code><a href=#splod>splod</a></code>, <code><a href=#splodpanelfn>splodPanelFn</a></code>


<h4>Author</h4>

Ryan Hafen




## prepanel

<h3>Prepanel Function for Trelliscope Displays</h3>

<p class="rd-p">Apply a prepanel function to objects of class "ddo" or "ddf" to determine ranges of x and y axis limits prior to creating a trelliscope display (<code><a href='makeDisplay.html'>makeDisplay</a></code>).  Useful in conjunction with <code><a href='setLims.html'>setLims</a></code>.</p>

<h4>Usage</h4>
<pre class="r"><code>prepanel(data, prepanelFn = NULL, params = NULL, packages = NULL,
  control = NULL, verbose = TRUE)</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>data</dt>
  <dd class="rd-dd">an object of class "localDiv" or "rhData"</dd>
  <dt>prepanelFn</dt>
  <dd class="rd-dd">a prepanel function that returns a list specifying <code>xlim</code> and <code>ylim</code> for determining axis limits, and optionally <code>dx</code> and <code>dy</code> for determining aspect ratio (used to define slopes of line segments used for banking computations).  prepanelFn can also be a panelFn (see <code><a href=#makedisplay>makeDisplay</a></code>) that returns either an object of class "trellis" or "ggplot", since xlim and ylim can be determined from these.</dd>
  <dt>params</dt>
  <dd class="rd-dd">a named list of parameters external to the input data that are needed in the distributed computing (most should be taken care of automatically such that this is rarely necessary to specify)</dd>
  <dt>packages</dt>
  <dd class="rd-dd">a vector of R package names that contain functions used in <code>prepanelFn</code> (most should be taken care of automatically such that this is rarely necessary to specify)</dd>
  <dt>control</dt>
  <dd class="rd-dd">parameters specifying how the backend should handle things (most-likely parameters to <code>rhwatch</code> in RHIPE) - see <code><a href=http://www.inside-r.org/packages/cran/datadr/docs/rhipeControl>rhipeControl</a></code> and <code><a href=http://www.inside-r.org/packages/cran/datadr/docs/localDiskControl>localDiskControl</a></code></dd>
  <dt>verbose</dt>
  <dd class="rd-dd">print status messages?</dd>
</dl>

  <h4>Details</h4>

  <p class="rd-p">The plot method plots the sorted axis ranges for the x and y axis for the case of "same" (all axis limits share the same range) and "sliced" (all axis limits share the) and can be useful in helping determine how to ultimately set the limits.</p>

  <p class="rd-p">You do not need to use <code>prepanel()</code> to ultimately create a display with <code><a href=#makedisplay>makeDisplay</a>()</code>, but if you bypass, you will either need to specify your own limits in your plot command, or do nothing, in which case each individual plot will have limits based on the data in the split being plotted (the axes will be "free").</p>

  <p class="rd-p">Axis limits are very important.  What makes viewing groups of plots of subsets of data ("small multiples") so powerful is being able to make meaningful visual comparisons across plots.  This is much easier to do if scales for each plot are commensurate.</p>

  <p class="rd-p">This function is also useful for identifying subsets with very large outlying values, and in conjunction with <code><a href=#setlims>setLims</a></code>, allows you to account for that prior to the expensive process of creating all of the plots.</p>


  <h4>Value</h4>

  <p class="rd-p"><dl>
object of class "trsPre".  This is a list of the x and y axis ranges for each split, along with the aspect ratio banking value if <code>dx</code> and <code>dy</code> are supplied in <code>prepanelFn</code>.  Can be used with <code><a href=#plot.trspre>plot.trsPre</a></code> and <code><a href=#setlims>setLims</a></code>.
</dl></p>



<h4>Examples</h4>
<pre class="r"><code>irisSplit <- datadr::divide(iris, "Species")
irisPreFn <- function(x) {
  list(
    xlim = range(x$Sepal.Length),
    ylim = range(x$Sepal.Width)
  )
}
irisPre <- prepanel(irisSplit, prepanelFn = irisPreFn)
plot(irisPre)#' </code></pre>

<h4>See also</h4>

<code><a href=http://www.inside-r.org/packages/cran/ggplot2/docs/aes_position>x</a></code>
<code><a href=#plot.trspre>plot.trsPre</a></code>, <code><a href=#setlims>setLims</a></code>, <code><a href=#makedisplay>makeDisplay</a></code>


<h4>Author</h4>

Ryan Hafen




## vdbCopyRSource

<h3>Copy files ending in .R from source directory into a VDB-wide global code directory for use in Trelliscope displays</h3>

<p class="rd-p">These R files will be sourced in the global environment of the Trelliscope Viewer when the viewer is launched and the resulting objects will be available to all displays throughout the viewing session.
Useful for getting custom functions into the global environment.</p>

<h4>Usage</h4>
<pre class="r"><code>vdbCopyRSource(fromDir, conn = getOption("vdbConn"))</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>fromDir</dt>
  <dd class="rd-dd">directory with R source</dd>
  <dt>conn</dt>
  <dd class="rd-dd">vdb connection</dd>
</dl>


<h4>Examples</h4>
<pre class="r"><code>vdbCopyRSource(".") # copies R files from current directory</code></pre>

<h4>Author</h4>

Jeremiah Rounds




## vdbGlobalsExist

<h3>Check to see if the VDB-wide global data file exists</h3>


<h4>Usage</h4>
<pre class="r"><code>vdbGlobalsExist(conn = getOption("vdbConn"))</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>conn</dt>
  <dd class="rd-dd">vdb connection</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
logical
</dl></p>



<h4>Examples</h4>
<pre class="r"><code>vdbGlobalsExist()</code></pre>

<h4>Author</h4>

Jeremiah Rounds




## vdbGlobalsFile

<h3>Path to VDB global data storage file</h3>

<p class="rd-p">Returns an appropriate file name to save VDB-wide globals to for use in Trelliscope displays</p>

<h4>Usage</h4>
<pre class="r"><code>vdbGlobalsFile(conn = getOption("vdbConn"))</code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>conn</dt>
  <dd class="rd-dd">vdb connection</dd>
</dl>

  <h4>Details</h4>

  <p class="rd-p">Objects in this rdata file will be loaded by the Trelliscope Viewer when the viewer is launched and the data will be available to all displays throughout the viewing session.</p>


  <h4>Value</h4>

  <p class="rd-p"><dl>
character file name
</dl></p>



<h4>Examples</h4>
<pre class="r"><code>save(foo, file = globalsPath())</code></pre>

<h4>Author</h4>

Jeremiah Rounds



